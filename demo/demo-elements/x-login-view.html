<link rel="import" href="../../../polymer/polymer-element.html">
<link rel="import" href="../../../vaadin-themable-mixin/vaadin-themable-mixin.html">

<dom-module id="x-login-view">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>

    <h1>Login Form</h1>
    <button on-click="login">Login with OAuth</button>
  </template>
  <script>
    (() => {
      class XHomeView extends Vaadin.ThemableMixin(Polymer.Element) {
        static get is() {
          return 'x-login-view';
        }

        login() {
          window.authorized = true;
          window.dispatchEvent(
            new CustomEvent('vaadin-router-go',
              {detail: {pathname: this.location.params.to || '/'}}));
        }
      }

      customElements.define(XHomeView.is, XHomeView);
    })();
  </script>
</dom-module>
