<link rel="import" href="../../../polymer/polymer-element.html">
<link rel="import" href="../../../polymer/lib/elements/dom-repeat.html">
<link rel="import" href="../../../polymer/lib/elements/dom-if.html">

<dom-module id="x-breadcrumbs">
  <template preserve-content>
    <style>
      :host {
        display: block;
      }

      .delimiter {
        margin-left: 0.5em;
        margin-right: 0.5em;
      }
    </style>

    <dom-repeat items="[[routes]]">
      <template>
        <a href$="[[item.breadcrumb.href]]">[[item.breadcrumb.title]]</a>
        <dom-if if="[[__isNotLastIndexOf(routes, index)]]">
          <template>
            <span class="delimiter">&gt;</span>
          </template>
        </dom-if>
      </template>
    </dom-repeat>
  </template>
  <script>
    class XBreadcrumbs extends Polymer.Element {
      static get is() {
        return 'x-breadcrumbs';
      }

      static get properties() {
        return {
          routes: Array
        };
      }

      __isNotLastIndexOf(routes, i) {
        return i < routes.length - 1;
      }
    }
    window.customElements.define(XBreadcrumbs.is, XBreadcrumbs);
  </script>
</dom-module>
