<dom-module id="nested-routes-demos">
  <template>
    <style include="vaadin-component-demo-shared-styles">
      :host {
        display: block;
      }
    </style>

    <h3>Child routes</h3>
    <p>The routes configuration is a tree: every route can have zero or more children.</p>
    <vaadin-demo-snippet id="nested-routes-demos-children-tree" iframe-src="iframe.html">
      <template preserve-content>
        <nav>
          <vaadin-router-link href="/users">All Users</vaadin-router-link>
          <vaadin-router-link href="/users/kim">Kim</vaadin-router-link>
        </nav>
        <vaadin-router>
          <vaadin-route path="/users">
            <vaadin-route path="/:user" component="x-user-profile"></vaadin-route>
            <vaadin-route path="" component="x-user-list"></vaadin-route>
          </vaadin-route>
          <vaadin-route path="/" component="x-home-view"></vaadin-route>
        </vaadin-router>
      </template>
    </vaadin-demo-snippet>

    <h3>Child routes as a tree vs. a flat list</h3>
    <p>The routes configuration can be expressed as a flat list or as a tree. The difference is
      in small details. A route without children would match any path starting with a given
      pattern whereas a route with children would only match exactly. But if a route with children
      does not match, it would try to match its children in turn.</p>
    <vaadin-demo-snippet id="nested-routes-demos-children-flat" iframe-src="iframe.html">
      <template preserve-content>
        <nav>
          <vaadin-router-link href="/users">All Users</vaadin-router-link>
          <vaadin-router-link href="/users/kim">Kim</vaadin-router-link>
        </nav>
        <vaadin-router>
          <vaadin-route path="/users/:user" component="x-user-profile"></vaadin-route>
          <vaadin-route path="/users" component="x-user-list"></vaadin-route>
          <vaadin-route path="/" component="x-home-view"></vaadin-route>
        </vaadin-router>
      </template>
    </vaadin-demo-snippet>

    <h3>A route component can control routing for a subpath</h3>
    <p>The routes configuration for a subpath can be set by a route component separately
      from its parent router's config.</p>
    <vaadin-demo-snippet id="nested-routes-demos-basic" iframe-src="iframe.html">
      <template preserve-content>
        <nav>
          <vaadin-router-link href="/">Home</vaadin-router-link>
          <vaadin-router-link href="/users">Users</vaadin-router-link>
        </nav>
        <vaadin-router>
          <vaadin-route path="/users">
            <template>
              <nav>
                <vaadin-router-link href="/users">Users Home</vaadin-router-link>
                <vaadin-router-link href="/users/sam">Sam</vaadin-router-link>
              </nav>
              <vaadin-router root="/users">
                <vaadin-route path="/:user/edit" component="x-user-editor"></vaadin-route>
                <vaadin-route path="/:user" component="x-user-profile"></vaadin-route>
                <vaadin-route path="" component="x-user-list"></vaadin-route>
              </vaadin-router>
            </template>
          </vaadin-route>
          <vaadin-route path="/" component="x-home-view"></vaadin-route>
        </vaadin-router>
      </template>
    </vaadin-demo-snippet>

  </template>
  <script>
  (() => {
    class NestedRoutesDemos extends DemoReadyEventEmitter(ElementDemo(Polymer.Element)) {
      static get is() {
        return 'nested-routes-demos';
      }
    }
    customElements.define(NestedRoutesDemos.is, NestedRoutesDemos);
  })();
  </script>
</dom-module>
